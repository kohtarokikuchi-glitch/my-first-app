# PRD：社内FAQ検索チャットボット

**製品名（仮）：** Medical Horizon FAQ Bot  
**作成日：** 2025年2月24日  
**ステータス：** ドラフト

---

## 1. 課題の背景（なぜこのツールが必要か）

社内では「あれどこ？」「この手続きどうする？」といった**よくある質問**が繰り返し発生しており、以下の課題がある。

- **問い合わせの重複**：同じ質問が複数人から同じ担当者に寄せられ、回答者の負荷が増大する
- **回答までの待ち時間**：質問者が回答者を特定し、返答を待つ間に業務が止まる
- **属人化**：回答が個人のチャットや口頭に留まり、ナレッジが蓄積・共有されない
- **新入社員の負荷**：どこに聞けばよいか分からず、心理的ハードルや無駄なやり取りが発生する

本ツールは、**自然言語で質問を入力するとFAQデータベースから最適な回答と出典を返すチャットボット**を提供し、以下を実現する。

- 不要なやり取りの短縮
- コミュニケーションの円滑化
- ナレッジの一元化と検索可能性の向上

---

## 2. ターゲットユーザー

| ペルソナ | 説明 | 主なニーズ |
|----------|------|------------|
| **新入社員** | 入社間もない社員 | 手続き・場所・ルールを素早く知りたい。「誰に聞くか」より「すぐ答えが欲しい」 |
| **社内一般ユーザー** | 全社員 | よくある質問を24時間・端末から気軽に検索したい |
| **人事・総務・情報システム** | FAQの管理者・回答者 | 問い合わせ数を減らし、定型質問をセルフサービスで解決させたい |

**利用シーン例：** スマートフォンから、通勤中や外出先で「〇〇の申請方法」「△△の場所」などを検索する。

---

## 3. 機能一覧（MVP / Nice-to-have）

### MVP（Minimum Viable Product）

| # | 機能 | 説明 |
|---|------|------|
| 1 | **トップ画面（検索UI）** | 検索バーが中央に配置されたスマホ向けランディング画面。Medical Horizonのロゴ・ブランド表記・よくある質問の例示を表示 |
| 2 | **自然言語での質問入力** | ユーザーが検索バーに自然言語で質問を入力できる |
| 3 | **FAQ検索・回答表示** | 入力に基づきFAQデータベースから最適な回答を取得し、回答文を表示する |
| 4 | **出典の提示** | 回答の根拠となるFAQ・ドキュメント等の出典を明示する |
| 5 | **スマホ前提のUI** | モバイルファーストのレイアウト。Medical Horizonブランドカラー（青系）を適用 |

### Nice-to-have

| # | 機能 | 説明 |
|---|------|------|
| 6 | 検索履歴・お気に入り | 過去の検索やブックマークで再利用しやすくする |
| 7 | フィードバック（役に立った/立たなかった） | 回答品質の改善のためのフィードバック収集 |
| 8 | 管理者向けFAQ編集画面 | 人事・総務等がFAQを追加・編集・削除できる管理UI |
| 9 | 多言語対応 | 英語等の言語での検索・表示 |
| 10 | プッシュ通知・お知らせ | 重要なお知らせをプッシュで配信 |

**優先度：** まずは **検索バーが表示されているページ（トップ画面）** から作成する。

---

## 4. 画面遷移フロー

```
┌─────────────────────────────────────────────────────────────┐
│                     【トップ画面】                             │
│  ┌─────────────────────────────────────────────────────┐    │
│  │  Medical Horizon  [Logo]                             │    │
│  ├─────────────────────────────────────────────────────┤    │
│  │                                                      │    │
│  │         [ 質問を入力してください... ]  🔍             │    │
│  │                                                      │    │
│  │  よくある質問：                                       │    │
│  │  ・〇〇の申請方法は？                                 │    │
│  │  ・△△はどこにありますか？                             │    │
│  │  ・××の連絡先は？                                    │    │
│  │                                                      │    │
│  └─────────────────────────────────────────────────────┘    │
└─────────────────────────────────────────────────────────────┘
                              │
                              │ 質問入力 → 検索実行
                              ▼
┌─────────────────────────────────────────────────────────────┐
│                     【検索結果画面】                           │
│  ┌─────────────────────────────────────────────────────┐    │
│  │  Medical Horizon  [Logo]                             │    │
│  ├─────────────────────────────────────────────────────┤    │
│  │  質問：「〇〇の申請方法は？」                          │    │
│  │  ─────────────────────────────────────────────      │    │
│  │  回答：（FAQから取得した最適な回答テキスト）            │    │
│  │  ─────────────────────────────────────────────      │    │
│  │  出典：FAQ「〇〇申請について」                        │    │
│  │  [ 別の質問をする ]                                   │    │
│  └─────────────────────────────────────────────────────┘    │
└─────────────────────────────────────────────────────────────┘
```

**補足：**

- トップ画面で検索バーにフォーカスし、質問入力後に検索（送信）すると検索結果画面へ遷移する想定。
- 初期MVPでは「1画面で検索バー＋結果表示」のシンプルな1ページ構成も検討可。

---

## 5. 技術構成案

### スタック

| レイヤー | 技術 | 役割 |
|----------|------|------|
| **フロントエンド** | Next.js (App Router) | ルーティング、SSR/CSR、UIコンポーネント |
| **バックエンド / DB** | Supabase | 認証（将来）、FAQデータの保存、検索用API（PostgreSQL + 必要に応じてpgvector等） |
| **ホスティング** | Vercel（想定） | Next.jsのデプロイ、サーバーレス |

### 主要コンポーネント

- **FAQストア**：SupabaseのテーブルでFAQ（質問・回答・出典・メタデータ）を管理
- **検索**：  
  - Phase1: キーワード・LIKE/全文検索で「最適な回答」を取得  
  - Phase2（Nice-to-have）: 埋め込み＋ベクトル検索で意味検索
- **API**：Next.js API Routes または Server Actions でSupabaseを呼び出し、検索結果を返す
- **UI**：Reactコンポーネント、Medical Horizonブランドカラー（青系）のテーマ適用

### データモデル（案）

```
faq_items
├── id (uuid, PK)
├── question (text)      -- 代表質問文
├── answer (text)        -- 回答本文
├── source (text)        -- 出典名・URL等
├── category (text)      -- カテゴリ（任意）
├── created_at
└── updated_at
```

### セキュリティ・運用

- 社内利用を想定し、必要に応じてSupabase Row Level Security (RLS) や認証でアクセス制限
- 環境変数でSupabase URL / anon key を管理

---

## 6. 想定スケジュール

| フェーズ | 内容 | 想定期間 |
|----------|------|----------|
| **Phase 0** | 環境構築（Next.js + Supabase接続）、PRD確定 | 0.5週 |
| **Phase 1** | トップ画面実装（ロゴ・検索バー・よくある質問例示・青系ブランドカラー） | 1週 |
| **Phase 2** | SupabaseにFAQテーブル作成、検索API実装、回答・出典表示まで | 1〜1.5週 |
| **Phase 3** | 結合・動作確認、社内テスト、軽微なUI調整 | 0.5〜1週 |
| **リリース** | 社内公開（MVP） | - |

**合計目安：** 約3〜4週間（1人想定）

Nice-to-have機能はMVPリリース後にバックログで優先度を付け、段階的に追加する。

---

## 変更履歴

| 日付 | 内容 |
|------|------|
| 2025-02-24 | 初版作成 |
